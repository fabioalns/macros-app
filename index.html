<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor de Macros M√©dicos</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìã</text></svg>">
</head>
<body>

    <!-- Contenedor principal de la aplicaci√≥n -->
    <div class="app-container">

        <!-- Barra lateral de navegaci√≥n y controles -->
        <aside class="sidebar">
            <header class="sidebar-header">
                <h1 class="app-title">Macros M√©dicos</h1>
                <div class="controls">
                    <button id="import-btn" class="control-btn" title="Importar JSON">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                    </button>
                    <input type="file" id="import-input" accept=".json" style="display: none;">
                    <button id="export-btn" class="control-btn" title="Exportar JSON">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                    </button>
                </div>
            </header>
            <div class="search-container">
                <input type="search" id="search-input" placeholder="Buscar (Ctrl+K)...">
            </div>
            <nav id="categories-nav" class="categories-nav"></nav>
        </aside>

        <!-- Contenido principal donde se muestran los macros -->
        <main id="main-content" class="main-content">
            <div id="welcome-message" class="welcome-message">
                <h2>Bienvenido al Gestor de Macros</h2>
                <p>Selecciona una categor√≠a de la barra lateral para ver los macros.</p>
                <p>Usa el bot√≥n flotante '+' para a√±adir un nuevo macro.</p>
            </div>
            <!-- Los macros se renderizar√°n aqu√≠ -->
        </main>

    </div>

    <!-- Bot√≥n flotante para a√±adir nuevo macro -->
    <button id="add-macro-btn" class="fab" title="A√±adir nuevo macro">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
    </button>

    <!-- Modal para a√±adir/editar macros -->
    <div id="macro-modal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <header class="modal-header">
                <h2 id="modal-title">A√±adir Nuevo Macro</h2>
                <button id="close-modal-btn" class="close-btn">&times;</button>
            </header>
            <form id="macro-form">
                <input type="hidden" id="macro-id">
                <div class="form-group">
                    <label for="macro-category">Categor√≠a</label>
                    <input type="text" id="macro-category" required list="category-datalist">
                    <datalist id="category-datalist"></datalist>
                </div>
                <div class="form-group">
                    <label for="macro-subCategory">Subcategor√≠a</label>
                    <input type="text" id="macro-subCategory" required list="subCategory-datalist">
                    <datalist id="subCategory-datalist"></datalist>
                </div>
                <div class="form-group">
                    <label for="macro-title">T√≠tulo</label>
                    <input type="text" id="macro-title" required>
                </div>
                <div class="form-group">
                    <label for="macro-content">Contenido</label>
                    <textarea id="macro-content" rows="10" required></textarea>
                </div>
                <footer class="modal-footer">
                    <button type="button" id="delete-macro-btn" class="btn btn-danger" style="display: none;">Eliminar</button>
                    <button type="submit" class="btn btn-primary">Guardar</button>
                </footer>
            </form>
        </div>
    </div>

    <!-- Toast de notificaci√≥n para la copia -->
    <div id="toast" class="toast">Copiado ‚úî</div>

    <!-- Plantilla para las tarjetas de macros -->
    <template id="macro-card-template">
        <article class="macro-card">
            <header class="macro-card-header">
                <h3 class="macro-title"></h3>
                <div class="macro-actions">
                    <button class="icon-btn copy-btn" title="Copiar contenido">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                    </button>
                    <button class="icon-btn edit-btn" title="Editar macro">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
                    </button>
                </div>
            </header>
            <div class="macro-content-wrapper">
                <p class="macro-content"></p>
            </div>
        </article>
    </template>

    <script src="app.js"></script>
</body>
</html>
